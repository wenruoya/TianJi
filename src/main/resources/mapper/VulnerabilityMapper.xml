<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="org.wr.tianji.mapper.VulnerabilityMapper">


    <select id="pageQuery" resultType="org.wr.tianji.pojo.entity.Vuln">
        select * from tianji.vuln
        <where>
            <if test="vulnerabilityType!=null and vulnerabilityType!=''">
                and vulnerability_type like concat('%',#{vulnerabilityType},'%')
            </if>
        </where>
    </select>

    <update id="update">
        UPDATE tianji.vuln
        <set>
            <if test="vulnerabilityType != null and vulnerabilityType != ''">
                vulnerability_type = #{vulnerabilityType},
            </if>
            <if test="vulnerabilitySuggest != null and vulnerabilitySuggest != ''">
                vulnerability_suggest = #{vulnerabilitySuggest},
            </if>
        </set>
        WHERE vuln_id = #{vulnId}
    </update>
</mapper>
